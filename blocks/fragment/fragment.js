import { decorateMain } from "../../scripts/scripts.js"; import { loadBlocks } from "../../scripts/lib-franklin.js"; async function loadFragment(t) { if (t && t.startsWith("/")) { const e = await fetch(`${t}.plain.html`); if (e.ok) { const t = document.createElement("main"); return t.innerHTML = await e.text(), decorateMain(t), await loadBlocks(t), t } } return null } export default async function decorate(t) { const e = t.querySelector("a"), a = e ? e.getAttribute("href") : t.textContent.trim(), r = await loadFragment(a); if (r) { const e = r.querySelector(":scope .section"); e && (t.closest(".section").classList.add(...e.classList), t.closest(".fragment-wrapper").replaceWith(...e.childNodes)) } }